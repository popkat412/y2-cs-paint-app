{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?2722","webpack:///./src/components/Canvas.vue?cfff","webpack:///./src/models/tool.ts","webpack:///./src/App.vue?4385","webpack:///./src/components/Canvas.vue?4ea1","webpack:///./src/models/shape.ts","webpack:///./src/constants.ts","webpack:///./src/helpers/deepCopy.ts","webpack:///./src/models/layer.ts","webpack:///./src/models/events.ts","webpack:///./src/helpers/hasOwnProperty.ts","webpack:///./src/components/Canvas.vue","webpack:///./src/components/Canvas.vue?a1fb","webpack:///./src/components/Canvas.vue?c3a6","webpack:///./src/App.vue","webpack:///./src/App.vue?0ab4","webpack:///./src/App.vue?bff9","webpack:///./src/globalState.ts","webpack:///./src/config.ts","webpack:///./src/helpers/titleCase.ts","webpack:///./src/main.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","ToolType","_vm","this","_h","$createElement","_c","_self","attrs","on","updateMousePos","style","width","$store","currentTool","options","size","height","top","mousePos","y","left","x","_e","staticClass","_v","_l","tool","index","class","selectedTool","currentToolIdx","$event","changeTool","_s","option","optionName","staticStyle","titleCase","type","directives","rawName","expression","modifiers","domProps","target","composing","$set","_n","$forceUpdate","color","hex8","showingSizeIndicator","model","callback","$$v","layer","selectedLayer","currentLayerIdx","clickedLayer","addLayer","currentPrefixedShortcutKey","clearLayer","saveCanvas","staticRenderFns","$emit","Pen","Eraser","Spray","points","DEFAULT_BACKGROUND_COLOR","deepCopy","obj","copy","Date","setTime","getTime","Array","len","attr","Error","graphics","createGraphics","shapes","currentShapeIdx","state","clear","shape","noFill","stroke","backgroundColor","beginShape","strokeWeight","pt","vertex","endShape","createVector","mouseX","mouseY","currentShape","EVENTS","createLayer","prop","sketch","canvas","$root","$on","layers","alert","format","prompt","toLowerCase","save","setup","createCanvas","innerWidth","innerHeight","console","log","draw","background","update","image","mouseDragged","currentLayer","mouseReleased","keyPressed","dealWithDoubleShortcut","$config","changeColorShortcutPrefix","col","changeColorShortcutMap","setTimeout","setCurrentTool","document","getElementById","component","event","pageX","pageY","idx","components","Canvas","draggable","tools","toolType","findIndex","e","prefixShortcutDuration","replace","match","toUpperCase","config","productionTip","observable","mixin","methods","render","h","$mount"],"mappings":"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","file":"js/app.b8acd210.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=a1512ce8&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Canvas.vue?vue&type=style&index=0&id=1144b118&scoped=true&lang=css&\"","import { Color } from \"@/models/types\";\n\n/// Kind of a hack so we can easily get the type of the tool class\n/// Why do i feel like everything i do is a hack\nexport enum ToolType { Pen, Eraser, Spray }\nexport type OptionType = \"number\" | \"color\";\n\nexport abstract class Tool {\n  abstract readonly type: ToolType;\n  abstract name: string;\n  abstract options: {};\n}\n\nexport interface ToolOption<T> {\n  value: T;\n  type: OptionType;\n}\n\nexport interface PenOptions {\n  size: ToolOption<number>;\n  color: ToolOption<Color>;\n}\nexport class Pen extends Tool {\n  readonly type = ToolType.Pen;\n  readonly name = \"Pen\";\n  options: PenOptions;\n\n  constructor(size?: number, color?: Color) {\n    super();\n    this.options = {\n      size: { type: \"number\", value: size ?? 3 },\n      color: { type: \"color\", value: color ?? \"white\" },\n    };\n  }\n}\n\nexport interface EraserOptions {\n  size: ToolOption<number>;\n}\nexport class Eraser extends Tool {\n  readonly type = ToolType.Eraser;\n  readonly name = \"Eraser\";\n  options: EraserOptions;\n\n  constructor(size?: number) {\n    super();\n    this.options = { size: { type: \"number\", value: size ?? 10 } };\n  }\n}\n\nexport interface SprayOptions {\n  size: ToolOption<number>;\n  color: ToolOption<Color>;\n}\nexport class Spray extends Tool {\n  readonly type = ToolType.Spray;\n  readonly name = \"Spray\";\n  options: SprayOptions;\n\n  constructor(size?: number, color?: Color) {\n    super();\n    this.options = {\n      size: { type: \"number\", value: size ?? 3 },\n      color: { type: \"color\", value: color ?? \"white\" },\n    }\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"},on:{\"mousemove\":_vm.updateMousePos}},[(_vm.showingSizeIndicator)?_c('div',{style:({\n      width: _vm.$store.currentTool.options.size.value + 'px',\n      height: _vm.$store.currentTool.options.size.value + 'px',\n      top: _vm.mousePos.y - _vm.$store.currentTool.options.size.value / 2 + 'px',\n      left: _vm.mousePos.x - _vm.$store.currentTool.options.size.value / 2 + 'px',\n    }),attrs:{\"id\":\"tool-size-indicator\"}}):_vm._e(),_c('main',[_c('div',{staticClass:\"sidebar left\"},[_c('h2',[_vm._v(\"Tools\")]),_c('div',{attrs:{\"id\":\"tools\"}},_vm._l((_vm.$store.tools),function(tool,index){return _c('button',{key:index,class:{ selectedTool: index == _vm.$store.currentToolIdx },on:{\"click\":function($event){return _vm.changeTool(index)}}},[_vm._v(\" \"+_vm._s(tool.name)+\" \")])}),0),_c('h2',[_vm._v(\"Options\")]),_c('div',{attrs:{\"id\":\"tool-options\"}},_vm._l((_vm.$store.currentTool.options),function(option,optionName){return _c('div',{key:optionName,staticStyle:{\"text-align\":\"left\"}},[_c('label',[_vm._v(_vm._s(_vm.titleCase(optionName)))]),_c('br'),(option.type == 'number')?_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(option.value),expression:\"option.value\",modifiers:{\"number\":true}}],attrs:{\"min\":\"1\",\"type\":\"number\"},domProps:{\"value\":(option.value)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(option, \"value\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}}):(option.type == 'color')?_c('chrome-picker',{staticClass:\"color-picker\",attrs:{\"value\":option.value},on:{\"input\":function (c) { return (_vm.$store.currentTool.options.color.value = c.hex8); }}}):_vm._e()],1)}),0)]),_c('div',[_c('Canvas',{on:{\"mouseover\":function($event){_vm.showingSizeIndicator = true},\"mouseleave\":function($event){_vm.showingSizeIndicator = false}}})],1),_c('div',{staticClass:\"sidebar right\"},[_c('h2',[_vm._v(\"Layers\")]),_c('draggable',{attrs:{\"animation\":200},model:{value:(_vm.$store.layers),callback:function ($$v) {_vm.$set(_vm.$store, \"layers\", $$v)},expression:\"$store.layers\"}},[_c('transition-group',{attrs:{\"type\":\"transition\"}},_vm._l((_vm.$store.layers),function(layer,index){return _c('div',{key:layer.name,staticClass:\"layer\",class:{ selectedLayer: index == _vm.$store.currentLayerIdx },on:{\"click\":function($event){return _vm.clickedLayer(index)}}},[_vm._v(\" \"+_vm._s(layer.name)+\" \")])}),0)],1),_c('div',{staticClass:\"center-child\"},[_c('button',{on:{\"click\":_vm.addLayer}},[_vm._v(\"Add Layer\")])]),_c('p',[_vm._v(_vm._s(_vm.$store.currentPrefixedShortcutKey))]),_c('h2',[_vm._v(\"Actions\")]),_c('button',{on:{\"click\":_vm.clearLayer}},[_vm._v(\"Clear Layer\")]),_c('button',{on:{\"click\":_vm.saveCanvas}},[_vm._v(\"Save as Image\")])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"canvas\"},on:{\"mouseover\":function($event){return _vm.$emit('mouseover')},\"mouseleave\":function($event){return _vm.$emit('mouseleave')}}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import p5 from \"p5\";\nimport { EraserOptions, PenOptions, SprayOptions, ToolType } from \"./tool\";\n\nexport abstract class Shape {\n  /// This is the tool the shape was made with\n  abstract tool: ToolType;\n  /// This is the options that the tool had at that time\n  abstract options: {};\n}\n\nexport class PointsShape extends Shape {\n  points: p5.Vector[];\n\n  readonly tool: ToolType;\n  readonly options: PenOptions | EraserOptions;\n\n  constructor(points: p5.Vector[], tool: ToolType, options: PenOptions | EraserOptions) {\n    super();\n    this.points = points;\n\n    this.tool = tool;\n    this.options = options;\n  }\n}\n\nexport class SprayShape extends Shape {\n  // TODO: Implement this\n\n  tool: ToolType;\n  options: SprayOptions;\n\n  constructor(tool: ToolType, options: SprayOptions) {\n    super();\n    this.tool = tool;\n    this.options = options;\n  }\n}","import { Color } from \"./models/types\";\n\nexport const DEFAULT_BACKGROUND_COLOR: Color = \"black\";","/* eslint-disable @typescript-eslint/no-explicit-any */\nexport default function deepCopy(obj: any): any {\n  let copy: any;\n\n  // Handle the 3 simple types, and null or undefined\n  if (null == obj || \"object\" != typeof obj) return obj;\n\n  // Handle Date\n  if (obj instanceof Date) {\n    copy = new Date();\n    copy.setTime(obj.getTime());\n    return copy;\n  }\n\n  // Handle Array\n  if (obj instanceof Array) {\n    copy = [];\n    for (let i = 0, len = obj.length; i < len; i++) {\n      copy[i] = deepCopy(obj[i]);\n    }\n    return copy;\n  }\n\n  // Handle Object\n  if (obj instanceof Object) {\n    copy = {};\n    for (const attr in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, attr)) copy[attr] = deepCopy(obj[attr]);\n    }\n    return copy;\n  }\n\n  throw new Error(\"Unable to copy obj! Its type isn't supported.\");\n}","import p5 from \"p5\";\nimport { Eraser, Pen, Tool, ToolType } from \"@/models/tool\";\nimport { PointsShape, Shape, SprayShape } from \"./shape\";\nimport { DEFAULT_BACKGROUND_COLOR } from \"@/constants\";\nimport GlobalState from \"@/globalState\";\nimport deepCopy from \"@/helpers/deepCopy\";\n\nexport default class Layer {\n  graphics: p5.Graphics;\n  name: string;\n  width: number;\n  height: number;\n\n  private shapes: Shape[];\n  private currentShapeIdx: number | null;\n\n  constructor(p: p5, name: string) {\n    this.graphics = p.createGraphics(p.width, p.height);\n    this.width = p.width;\n    this.height = p.height;\n    this.name = name;\n\n    this.shapes = [];\n    this.currentShapeIdx = null;\n  }\n\n  update(state: GlobalState) {\n    this.graphics.clear();\n    for (const shape of this.shapes) {\n      if (shape instanceof PointsShape) {\n        this.graphics.noFill();\n        // The `\"color\" in shape.options` is just to satisfy typescript\n        this.graphics.stroke(shape.tool == ToolType.Pen && \"color\" in shape.options\n          ? shape.options.color.value\n          : state.backgroundColor ?? DEFAULT_BACKGROUND_COLOR);\n        this.graphics.beginShape();\n        this.graphics.strokeWeight(shape.options.size.value);\n        for (const pt of shape.points) {\n          this.graphics.vertex(pt.x, pt.y);\n        }\n        this.graphics.endShape();\n      } else if (shape instanceof SprayShape) {\n        // TODO: Implement this\n        throw \"Not Implemented\";\n      }\n    }\n\n    // if (state.currentTool instanceof Pen || state.currentTool instanceof Eraser) {\n    //   this.graphics.noFill();\n    //   this.graphics.stroke(state.currentTool instanceof Pen\n    //     ? state.currentTool.options.color.value\n    //     : state.backgroundColor ?? DEFAULT_BACKGROUND_COLOR);\n    //   this.graphics.strokeWeight(state.currentTool.options.size.value);\n    //   this.graphics.beginShape();\n    //   for (const point of this.#points) this.graphics.vertex(point.x, point.y);\n    //   this.graphics.endShape();\n    // }\n  }\n\n  mouseDragged(p: p5, tool: Tool) {\n    const mousePos = p.createVector(p.mouseX, p.mouseY);\n    if (tool instanceof Pen || tool instanceof Eraser) {\n      if (this.currentShapeIdx == null) {\n        this.currentShapeIdx = this.shapes.length;\n        this.shapes.push(new PointsShape([mousePos], tool.type, deepCopy(tool.options)));\n      } else {\n        if (this.currentShape instanceof PointsShape) {\n          this.currentShape.points.push(mousePos);\n        }\n      }\n    }\n  }\n\n  mouseReleased() {\n    this.currentShapeIdx = null;\n  }\n\n  clear() {\n    this.shapes = [];\n    this.currentShapeIdx = null;\n  }\n\n\n  private get currentShape(): Shape | null {\n    return this.currentShapeIdx == null ? null : this.shapes[this.currentShapeIdx];\n  }\n}","const EVENTS = {\n  createLayer: \"createLayer\",\n  saveCanvas: \"saveCanvas\",\n};\n\nexport default EVENTS;","export default function hasOwnProperty<X extends {}, Y extends PropertyKey>(obj: X, prop: Y): obj is X & Record<Y, unknown> {\n  return Object.hasOwnProperty.call(obj, prop)\n}","\n\n\n\n\n\n\n\n\nimport { Component, Vue } from \"vue-property-decorator\";\nimport p5 from \"p5\";\nimport Layer from \"@/models/layer\";\nimport { ToolOption, ToolType } from \"@/models/tool\";\nimport EVENTS from \"@/models/events\";\nimport hasOwnProperty from \"@/helpers/hasOwnProperty\";\nimport { Color } from \"@/models/types\";\n\n@Component\nexport default class Canvas extends Vue {\n  mounted() {\n    const sketch = (p: p5) => {\n      let canvas: p5.Renderer | null;\n\n      this.$root.$on(EVENTS.createLayer, () => {\n        this.$store.layers.push(\n          new Layer(p, `Layer ${this.$store.layers.length + 1}`)\n        );\n        this.$store.currentLayerIdx = this.$store.layers.length - 1;\n      });\n\n      this.$root.$on(EVENTS.saveCanvas, () => {\n        if (canvas == null) {\n          alert(\"Sorry, the canvas hasn't loaded yet\");\n        } else {\n          const format = prompt(\"File format (png|jpg)\", \"png\")?.toLowerCase();\n          if (format != \"png\" && format != \"jpg\") {\n            alert(\"Invalid format, can only be 'png' or 'jpg'\");\n          } else {\n            p.save(canvas, `sketch.${format}`);\n          }\n        }\n      });\n\n      p.setup = () => {\n        canvas = p.createCanvas(window.innerWidth * 0.5, window.innerHeight);\n        this.$store.layers = [new Layer(p, \"Layer 1\")];\n\n        console.log(this.$store);\n      };\n\n      p.draw = () => {\n        p.background(this.$store.backgroundColor ?? p.color(0));\n        for (const layer of this.$store.layers) layer.update(this.$store);\n        for (const layer of this.$store.layers) p.image(layer.graphics, 0, 0);\n      };\n\n      p.mouseDragged = () => {\n        this.$store.currentLayer?.mouseDragged(p, this.$store.currentTool);\n      };\n\n      p.mouseReleased = () => {\n        this.$store.currentLayer?.mouseReleased();\n      };\n\n      p.keyPressed = () => {\n        const dealWithDoubleShortcut = (key: string) => {\n          if (\n            this.$store.currentPrefixedShortcutKey ==\n            this.$config.changeColorShortcutPrefix\n          ) {\n            if (hasOwnProperty(this.$store.currentTool.options, \"color\")) {\n              const col = this.$config.changeColorShortcutMap[key];\n              if (col) {\n                console.log(`Changing color to ${col}...`);\n                (this.$store.currentTool.options\n                  .color as ToolOption<Color>).value = col;\n              } else {\n                console.log(`Invalid color: ${key}`);\n              }\n            }\n            this.$store.currentPrefixedShortcutKey = null;\n          }\n        };\n\n        switch (p.key) {\n          case \"b\":\n            dealWithDoubleShortcut(\"b\");\n            break;\n          case \"c\":\n            // Color change shortcut\n            this.$store.currentPrefixedShortcutKey = \"c\";\n            setTimeout(() => {\n              this.$store.currentPrefixedShortcutKey = null;\n            }, 1000);\n            break;\n          case \"e\":\n            console.log(\"E key pressed\");\n            this.$store.setCurrentTool(ToolType.Eraser);\n            break;\n          case \"p\":\n            this.$store.setCurrentTool(ToolType.Pen);\n            break;\n          case \"w\":\n            dealWithDoubleShortcut(\"w\");\n            break;\n          default:\n            dealWithDoubleShortcut(p.key);\n            break;\n        }\n      };\n    };\n\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    new p5(sketch, document.getElementById(\"canvas\")!);\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Canvas.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Canvas.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Canvas.vue?vue&type=template&id=1144b118&scoped=true&\"\nimport script from \"./Canvas.vue?vue&type=script&lang=ts&\"\nexport * from \"./Canvas.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Canvas.vue?vue&type=style&index=0&id=1144b118&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1144b118\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from \"vue-property-decorator\";\nimport Canvas from \"@/components/Canvas.vue\";\nimport EVENTS from \"@/models/events\";\nimport draggable from \"vuedraggable\";\nimport { Chrome } from \"vue-color\";\n\ninterface Pos {\n  x: number;\n  y: number;\n}\n\n@Component({\n  components: {\n    Canvas,\n    draggable,\n    \"chrome-picker\": Chrome,\n  },\n})\nexport default class App extends Vue {\n  // DATA\n  showingSizeIndicator = false;\n  mousePos: Pos = { x: 0, y: 0 };\n\n  // METHODS\n  updateMousePos(event: MouseEvent) {\n    this.mousePos.x = event.pageX;\n    this.mousePos.y = event.pageY;\n  }\n\n  addLayer() {\n    this.$root.$emit(EVENTS.createLayer);\n  }\n\n  changeTool(idx: number) {\n    this.$store.currentToolIdx = idx;\n  }\n\n  clearLayer() {\n    this.$store.currentLayer.clear();\n  }\n\n  updateOption(option: string) {\n    // TODO: Validate input\n    console.log(option);\n  }\n\n  clickedLayer(idx: number) {\n    this.$store.currentLayerIdx = idx;\n  }\n\n  saveCanvas() {\n    this.$root.$emit(EVENTS.saveCanvas);\n  }\n}\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=a1512ce8&scoped=true&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=a1512ce8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a1512ce8\",\n  null\n  \n)\n\nexport default component.exports","import Layer from \"@/models/layer\";\nimport { Eraser, Pen, Spray, Tool, ToolType } from \"@/models/tool\";\nimport { Color } from \"@/models/types\";\n\nexport default class GlobalState {\n  layers: Layer[];\n  currentLayerIdx: number;\n\n  tools: Tool[];\n  currentToolIdx: number;\n\n  backgroundColor: Color = \"black\";\n\n  currentPrefixedShortcutKey: string | null = null;\n\n  constructor() {\n    /// Because making a layer needs a p5 instance, it will only be set\n    /// in the setup method of the sketch\n    this.layers = [];\n    this.currentLayerIdx = 0;\n\n    this.tools = [\n      new Pen(),\n      new Eraser(),\n      new Spray(),\n    ];\n    this.currentToolIdx = 0;\n  }\n\n  get currentTool(): Tool {\n    return this.tools[this.currentToolIdx];\n  }\n\n  setCurrentTool(toolType: ToolType) {\n    this.currentToolIdx = this.tools.findIndex(e => e.type == toolType);\n  }\n\n  get currentLayer(): Layer {\n    return this.layers[this.currentLayerIdx];\n  }\n}\n","import { Color } from \"@/models/types\";\n\n// TODO: Save and retrieve config from local storage\nexport default class Config {\n  changeColorShortcutPrefix = \"c\";\n  prefixShortcutDuration = 1000;\n\n  // The value of this map actually represents the color, but stupidly (again)\n  // you can't make a p5 color without a p5 instance\n  changeColorShortcutMap: { [k: string]: Color } = {\n    \"b\": \"blue\",\n    \"w\": \"white\",\n    \"g\": \"green\",\n    \"r\": \"red\",\n    \"y\": \"yellow\",\n    \"B\": \"black\",\n  };\n}","export default function titleCase(s: string): string {\n  return s.replace(/([A-Z])/g, (match) => ` ${match}`).replace(/^./, (match) => match.toUpperCase());\n}","import Vue from \"vue\";\nimport App from \"@/App.vue\";\nimport GlobalState from \"@/globalState\";\nimport '@/assets/styles.css';\nimport Config from \"./config\";\nimport titleCase from \"./helpers/titleCase\";\nVue.config.productionTip = false;\n\nVue.prototype.$store = Vue.observable(new GlobalState());\nVue.prototype.$config = Vue.observable(new Config());\n\nVue.mixin({\n  methods: {\n    titleCase\n  }\n})\n\nnew Vue({\n  render: h => h(App)\n}).$mount(\"#app\");\n"],"sourceRoot":""}