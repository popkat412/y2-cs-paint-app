{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/Canvas.vue?0e07","webpack:///./src/App.vue?919f","webpack:///./src/models/tool.ts","webpack:///./src/App.vue?8522","webpack:///./src/components/Canvas.vue?b528","webpack:///./src/models/shape.ts","webpack:///./src/constants.ts","webpack:///./src/helpers/deepCopy.ts","webpack:///./src/models/layer.ts","webpack:///./src/models/events.ts","webpack:///./src/helpers/hasOwnProperty.ts","webpack:///./src/components/Canvas.vue","webpack:///./src/components/Canvas.vue?a1fb","webpack:///./src/components/Canvas.vue?c3a6","webpack:///./src/App.vue","webpack:///./src/App.vue?0ab4","webpack:///./src/App.vue?bff9","webpack:///./src/globalState.ts","webpack:///./src/config.ts","webpack:///./src/helpers/titleCase.ts","webpack:///./src/main.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","ToolType","_vm","this","_h","$createElement","_c","_self","attrs","on","updateMousePos","style","_e","staticClass","_v","_l","$store","tool","index","class","selectedTool","currentToolIdx","$event","changeTool","_s","currentTool","option","optionName","staticStyle","titleCase","type","directives","rawName","expression","modifiers","domProps","target","composing","$set","_n","$forceUpdate","hex8","Array","isArray","_i","$$a","$$el","$$c","checked","$$v","$$i","concat","hoveringCanvas","model","callback","layer","id","selectedLayer","currentLayerId","clickedLayer","addLayer","currentPrefixedShortcutKey","clearLayer","saveCanvas","staticRenderFns","$emit","size","color","Pen","options","Eraser","stroke","strokeWeight","strokeColor","fill","fillColor","cornerRadius","Rect","points","topLeft","bottomRight","DEFAULT_BACKGROUND_COLOR","deepCopy","obj","copy","Date","setTime","getTime","len","attr","Error","graphics","createGraphics","width","height","uuid","shapes","currentShapeIdx","state","clear","shape","noFill","backgroundColor","beginShape","pt","vertex","x","y","endShape","noStroke","rectMode","CORNERS","rect","pop","mousePos","createVector","mouseX","mouseY","currentShape","EVENTS","createLayer","prop","sketch","canvas","$root","$on","layers","alert","format","prompt","toLowerCase","save","setup","createCanvas","innerWidth","innerHeight","console","log","draw","background","update","image","mouseDragged","currentLayer","mouseReleased","keyPressed","dealWithDoubleShortcut","$config","changeColorShortcutPrefix","col","changeColorShortcutMap","setTimeout","setCurrentTool","document","getElementById","component","event","pageX","pageY","idx","top","left","components","Canvas","draggable","tools","toolType","findIndex","e","filter","v","prefixShortcutDuration","replace","match","toUpperCase","config","productionTip","observable","mixin","methods","render","h","$mount"],"mappings":"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","file":"js/app.e427de43.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Canvas.vue?vue&type=style&index=0&id=0dfe8621&scoped=true&lang=css&\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=012fbcf8&scoped=true&lang=css&\"","import { Color } from \"@/models/types\";\n\n/// Kind of a hack so we can easily get the type of the tool class\n/// Why do i feel like everything i do is a hack\nexport enum ToolType { Pen, Eraser, Rect }\nexport type OptionType = \"number\" | \"color\" | \"boolean\";\n\nexport abstract class Tool {\n  abstract readonly type: ToolType;\n  abstract name: string;\n  abstract options: {};\n}\n\nexport interface ToolOption<T> {\n  value: T;\n  type: OptionType;\n}\n\nexport interface PenOptions {\n  size: ToolOption<number>;\n  color: ToolOption<Color>;\n}\nexport class Pen extends Tool {\n  readonly type = ToolType.Pen;\n  readonly name = \"Pen\";\n  options: PenOptions;\n\n  constructor(size?: number, color?: Color) {\n    super();\n    this.options = {\n      size: { type: \"number\", value: size ?? 3 },\n      color: { type: \"color\", value: color ?? \"white\" },\n    };\n  }\n}\n\nexport interface EraserOptions {\n  size: ToolOption<number>;\n}\nexport class Eraser extends Tool {\n  readonly type = ToolType.Eraser;\n  readonly name = \"Eraser\";\n  options: EraserOptions;\n\n  constructor(size?: number) {\n    super();\n    this.options = { size: { type: \"number\", value: size ?? 10 } };\n  }\n}\n\nexport interface RectOptions {\n  stroke: ToolOption<boolean>; // controls whether to draw stroke\n  strokeWeight: ToolOption<number>;\n  strokeColor: ToolOption<Color>;\n  fill: ToolOption<boolean>; // controls whether to draw fill\n  fillColor: ToolOption<Color>;\n  cornerRadius: ToolOption<number>;\n}\nexport class Rect extends Tool {\n  readonly type = ToolType.Rect;\n  readonly name = \"Rect\";\n  options: RectOptions;\n\n  constructor(stroke?: boolean, strokeWeight?: number, strokeColor?: Color, fill?: boolean, fillColor?: Color, cornerRadius?: number) {\n    super();\n    this.options = {\n      stroke: { type: \"boolean\", value: stroke ?? true },\n      strokeWeight: { type: \"number\", value: strokeWeight ?? 3 },\n      strokeColor: { type: \"color\", value: strokeColor ?? \"white\" },\n      fill: { type: \"boolean\", value: fill ?? false },\n      fillColor: { type: \"color\", value: fillColor ?? \"white\" },\n      cornerRadius: { type: \"number\", value: cornerRadius ?? 0 },\n    }\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"},on:{\"mousemove\":_vm.updateMousePos}},[(_vm.showingSizeIndicator)?_c('div',{style:(_vm.sizeIndicatorStyles),attrs:{\"id\":\"tool-size-indicator\"}}):_vm._e(),_c('main',[_c('div',{staticClass:\"sidebar left\"},[_c('h2',[_vm._v(\"Tools\")]),_c('div',{attrs:{\"id\":\"tools\"}},_vm._l((_vm.$store.tools),function(tool,index){return _c('button',{key:index,class:{ selectedTool: index == _vm.$store.currentToolIdx },on:{\"click\":function($event){return _vm.changeTool(index)}}},[_vm._v(\" \"+_vm._s(tool.name)+\" \")])}),0),_c('h2',[_vm._v(\"Options\")]),_c('div',{attrs:{\"id\":\"tool-options\"}},_vm._l((_vm.$store.currentTool.options),function(option,optionName){return _c('div',{key:optionName,staticStyle:{\"text-align\":\"left\"}},[_c('label',[_vm._v(_vm._s(_vm.titleCase(optionName)))]),(option.type != 'boolean')?_c('br'):_vm._e(),(option.type == 'number')?_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(option.value),expression:\"option.value\",modifiers:{\"number\":true}}],attrs:{\"type\":\"number\"},domProps:{\"value\":(option.value)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(option, \"value\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}}):(option.type == 'color')?_c('chrome-picker',{staticClass:\"color-picker\",attrs:{\"value\":option.value},on:{\"input\":function (c) { return (option.value = c.hex8); }}}):(option.type == 'boolean')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(option.value),expression:\"option.value\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(option.value)?_vm._i(option.value,null)>-1:(option.value)},on:{\"change\":function($event){var $$a=option.value,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(option, \"value\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(option, \"value\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(option, \"value\", $$c)}}}}):_vm._e()],1)}),0)]),_c('div',[_c('Canvas',{on:{\"mouseover\":function($event){_vm.hoveringCanvas = true},\"mouseleave\":function($event){_vm.hoveringCanvas = false}}})],1),_c('div',{staticClass:\"sidebar right\"},[_c('h2',[_vm._v(\"Layers\")]),_c('draggable',{attrs:{\"animation\":200},model:{value:(_vm.$store.layers),callback:function ($$v) {_vm.$set(_vm.$store, \"layers\", $$v)},expression:\"$store.layers\"}},[_c('transition-group',{attrs:{\"type\":\"transition\"}},_vm._l((_vm.$store.layers),function(layer){return _c('div',{key:layer.id,staticClass:\"layer\",class:{ selectedLayer: layer.id == _vm.$store.currentLayerId },on:{\"click\":function($event){return _vm.clickedLayer(layer.id)}}},[_vm._v(\" \"+_vm._s(layer.name)+\" \")])}),0)],1),_c('div',{staticClass:\"center-child\"},[_c('button',{on:{\"click\":_vm.addLayer}},[_vm._v(\"Add Layer\")])]),_c('p',[_vm._v(_vm._s(_vm.$store.currentPrefixedShortcutKey))]),_c('h2',[_vm._v(\"Actions\")]),_c('button',{on:{\"click\":_vm.clearLayer}},[_vm._v(\"Clear Layer\")]),_c('button',{on:{\"click\":_vm.saveCanvas}},[_vm._v(\"Save as Image\")])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"canvas\"},on:{\"mouseover\":function($event){return _vm.$emit('mouseover')},\"mouseleave\":function($event){return _vm.$emit('mouseleave')}}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import p5 from \"p5\";\nimport { EraserOptions, PenOptions, RectOptions, ToolType } from \"./tool\";\n\nexport abstract class Shape {\n  /// This is the tool the shape was made with\n  abstract tool: ToolType;\n  /// This is the options that the tool had at that time\n  abstract options: {};\n}\n\nexport class PointsShape extends Shape {\n  points: p5.Vector[];\n\n  readonly tool: ToolType;\n  readonly options: PenOptions | EraserOptions;\n\n  constructor(points: p5.Vector[], tool: ToolType, options: PenOptions | EraserOptions) {\n    super();\n    this.points = points;\n\n    this.tool = tool;\n    this.options = options;\n  }\n}\n\nexport class RectShape extends Shape {\n  topLeft: p5.Vector;\n  bottomRight: p5.Vector;\n\n  tool: ToolType;\n  options: RectOptions;\n\n\n  constructor(topLeft: p5.Vector, bottomRight: p5.Vector, tool: ToolType, options: RectOptions) {\n    super();\n\n    this.topLeft = topLeft;\n    this.bottomRight = bottomRight;\n\n    this.tool = tool;\n    this.options = options;\n  }\n}","import { Color } from \"./models/types\";\n\nexport const DEFAULT_BACKGROUND_COLOR: Color = \"black\";","/* eslint-disable @typescript-eslint/no-explicit-any */\nexport default function deepCopy(obj: any): any {\n  let copy: any;\n\n  // Handle the 3 simple types, and null or undefined\n  if (null == obj || \"object\" != typeof obj) return obj;\n\n  // Handle Date\n  if (obj instanceof Date) {\n    copy = new Date();\n    copy.setTime(obj.getTime());\n    return copy;\n  }\n\n  // Handle Array\n  if (obj instanceof Array) {\n    copy = [];\n    for (let i = 0, len = obj.length; i < len; i++) {\n      copy[i] = deepCopy(obj[i]);\n    }\n    return copy;\n  }\n\n  // Handle Object\n  if (obj instanceof Object) {\n    copy = {};\n    for (const attr in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, attr)) copy[attr] = deepCopy(obj[attr]);\n    }\n    return copy;\n  }\n\n  throw new Error(\"Unable to copy obj! Its type isn't supported.\");\n}","import p5 from \"p5\";\nimport { Eraser, Pen, Rect, Tool, ToolType } from \"@/models/tool\";\nimport { PointsShape, RectShape, Shape } from \"./shape\";\nimport { DEFAULT_BACKGROUND_COLOR } from \"@/constants\";\nimport GlobalState from \"@/globalState\";\nimport deepCopy from \"@/helpers/deepCopy\";\nimport { v4 as uuidv4 } from 'uuid';\n\nexport default class Layer {\n  graphics: p5.Graphics;\n\n  name: string;\n  id: string;\n\n  width: number;\n  height: number;\n\n  private shapes: Shape[];\n  private currentShapeIdx: number | null;\n\n  constructor(p: p5, name: string) {\n    this.graphics = p.createGraphics(p.width, p.height);\n    this.width = p.width;\n    this.height = p.height;\n\n    this.name = name;\n    this.id = uuidv4();\n\n    this.shapes = [];\n    this.currentShapeIdx = null;\n  }\n\n  update(state: GlobalState) {\n    this.graphics.clear();\n    for (const shape of this.shapes) {\n      this.graphics.push();\n      if (shape instanceof PointsShape) {\n        this.graphics.noFill();\n        // The `\"color\" in shape.options` is just to satisfy typescript\n        this.graphics.stroke(shape.tool == ToolType.Pen && \"color\" in shape.options\n          ? shape.options.color.value\n          : state.backgroundColor ?? DEFAULT_BACKGROUND_COLOR);\n        this.graphics.beginShape();\n        this.graphics.strokeWeight(shape.options.size.value);\n        for (const pt of shape.points) {\n          this.graphics.vertex(pt.x, pt.y);\n        }\n        this.graphics.endShape();\n      } else if (shape instanceof RectShape) {\n        if (shape.options.fill.value) this.graphics.fill(shape.options.fillColor.value);\n        else this.graphics.noFill();\n\n        if (shape.options.stroke.value) this.graphics.stroke(shape.options.strokeColor.value);\n        else this.graphics.noStroke();\n\n        this.graphics.strokeWeight(shape.options.strokeWeight.value);\n\n        this.graphics.rectMode(this.graphics.CORNERS);\n        this.graphics.rect(shape.topLeft.x, shape.topLeft.y, shape.bottomRight.x, shape.bottomRight.y, shape.options.cornerRadius.value);\n      }\n      this.graphics.pop();\n    }\n  }\n\n  mouseDragged(p: p5, tool: Tool) {\n    const mousePos = p.createVector(p.mouseX, p.mouseY);\n    if (tool instanceof Pen || tool instanceof Eraser) {\n      if (this.currentShapeIdx == null) {\n        this.currentShapeIdx = this.shapes.length;\n        this.shapes.push(new PointsShape([mousePos], tool.type, deepCopy(tool.options)));\n      } else {\n        if (this.currentShape instanceof PointsShape) {\n          this.currentShape.points.push(mousePos);\n        }\n      }\n    } else if (tool instanceof Rect) {\n      if (this.currentShapeIdx == null) {\n        this.currentShapeIdx = this.shapes.length;\n        // set the bottom right as the same as top left for now\n        this.shapes.push(new RectShape(mousePos, mousePos, tool.type, deepCopy(tool.options)));\n      } else {\n        if (this.currentShape instanceof RectShape) {\n          // update the shape as person is dragging\n          this.currentShape.bottomRight = mousePos;\n        }\n      }\n    }\n  }\n\n  mouseReleased() {\n    this.currentShapeIdx = null;\n  }\n\n  clear() {\n    this.shapes = [];\n    this.currentShapeIdx = null;\n  }\n\n\n  private get currentShape(): Shape | null {\n    return this.currentShapeIdx == null ? null : this.shapes[this.currentShapeIdx];\n  }\n}","const EVENTS = {\n  createLayer: \"createLayer\",\n  saveCanvas: \"saveCanvas\",\n};\n\nexport default EVENTS;","export default function hasOwnProperty<X extends {}, Y extends PropertyKey>(obj: X, prop: Y): obj is X & Record<Y, unknown> {\n  return Object.hasOwnProperty.call(obj, prop)\n}","\n\n\n\n\n\n\n\n\nimport { Component, Vue } from \"vue-property-decorator\";\nimport p5 from \"p5\";\nimport Layer from \"@/models/layer\";\nimport { ToolOption, ToolType } from \"@/models/tool\";\nimport EVENTS from \"@/models/events\";\nimport hasOwnProperty from \"@/helpers/hasOwnProperty\";\nimport { Color } from \"@/models/types\";\n\n@Component\nexport default class Canvas extends Vue {\n  mounted() {\n    const sketch = (p: p5) => {\n      let canvas: p5.Renderer | null;\n\n      this.$root.$on(EVENTS.createLayer, () => {\n        this.$store.layers.push(\n          new Layer(p, `Layer ${this.$store.layers.length + 1}`)\n        );\n        this.$store.currentLayerId = this.$store.layers[\n          this.$store.layers.length - 1\n        ].id;\n      });\n\n      this.$root.$on(EVENTS.saveCanvas, () => {\n        if (canvas == null) {\n          alert(\"Sorry, the canvas hasn't loaded yet\");\n        } else {\n          const format = prompt(\"File format (png|jpg)\", \"png\")?.toLowerCase();\n          if (!format) return;\n          if (format != \"png\" && format != \"jpg\") {\n            alert(\"Invalid format, can only be 'png' or 'jpg'\");\n          } else {\n            p.save(canvas, `sketch.${format}`);\n          }\n        }\n      });\n\n      p.setup = () => {\n        canvas = p.createCanvas(window.innerWidth * 0.5, window.innerHeight);\n        this.$store.layers = [new Layer(p, \"Layer 1\")];\n        this.$store.currentLayerId = this.$store.layers[0].id;\n\n        console.log(this.$store);\n      };\n\n      p.draw = () => {\n        p.background(this.$store.backgroundColor ?? p.color(0));\n        for (const layer of this.$store.layers) layer.update(this.$store);\n        for (const layer of this.$store.layers) p.image(layer.graphics, 0, 0);\n      };\n\n      p.mouseDragged = () => {\n        this.$store.currentLayer?.mouseDragged(p, this.$store.currentTool);\n      };\n\n      p.mouseReleased = () => {\n        this.$store.currentLayer?.mouseReleased();\n      };\n\n      p.keyPressed = () => {\n        const dealWithDoubleShortcut = (key: string) => {\n          if (\n            this.$store.currentPrefixedShortcutKey ==\n            this.$config.changeColorShortcutPrefix\n          ) {\n            if (hasOwnProperty(this.$store.currentTool.options, \"color\")) {\n              const col = this.$config.changeColorShortcutMap[key];\n              if (col) {\n                console.log(`Changing color to ${col}...`);\n                (this.$store.currentTool.options\n                  .color as ToolOption<Color>).value = col;\n              } else {\n                console.log(`Invalid color: ${key}`);\n              }\n            }\n            this.$store.currentPrefixedShortcutKey = null;\n          }\n        };\n\n        switch (p.key) {\n          case \"b\":\n            dealWithDoubleShortcut(\"b\");\n            break;\n          case \"c\":\n            // Color change shortcut\n            this.$store.currentPrefixedShortcutKey = \"c\";\n            setTimeout(() => {\n              this.$store.currentPrefixedShortcutKey = null;\n            }, 1000);\n            break;\n          case \"e\":\n            console.log(\"E key pressed\");\n            this.$store.setCurrentTool(ToolType.Eraser);\n            break;\n          case \"p\":\n            this.$store.setCurrentTool(ToolType.Pen);\n            break;\n          case \"w\":\n            dealWithDoubleShortcut(\"w\");\n            break;\n          default:\n            dealWithDoubleShortcut(p.key);\n            break;\n        }\n      };\n    };\n\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    new p5(sketch, document.getElementById(\"canvas\")!);\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Canvas.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Canvas.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Canvas.vue?vue&type=template&id=0dfe8621&scoped=true&\"\nimport script from \"./Canvas.vue?vue&type=script&lang=ts&\"\nexport * from \"./Canvas.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Canvas.vue?vue&type=style&index=0&id=0dfe8621&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0dfe8621\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from \"vue-property-decorator\";\nimport Canvas from \"@/components/Canvas.vue\";\nimport EVENTS from \"@/models/events\";\nimport draggable from \"vuedraggable\";\nimport { Chrome } from \"vue-color\";\nimport { Eraser, Pen, Rect } from \"./models/tool\";\n\ninterface Pos {\n  x: number;\n  y: number;\n}\n\n@Component({\n  components: {\n    Canvas,\n    draggable,\n    \"chrome-picker\": Chrome,\n  },\n})\nexport default class App extends Vue {\n  // DATA\n  hoveringCanvas = false;\n  mousePos: Pos = { x: 0, y: 0 };\n\n  // METHODS\n  updateMousePos(event: MouseEvent) {\n    this.mousePos.x = event.pageX;\n    this.mousePos.y = event.pageY;\n  }\n\n  addLayer() {\n    this.$root.$emit(EVENTS.createLayer);\n  }\n\n  changeTool(idx: number) {\n    this.$store.currentToolIdx = idx;\n  }\n\n  clearLayer() {\n    this.$store.currentLayer.clear();\n  }\n\n  updateOption(option: string) {\n    // TODO: Validate input\n    console.log(option);\n  }\n\n  clickedLayer(id: string) {\n    this.$store.currentLayerId = id;\n  }\n\n  saveCanvas() {\n    this.$root.$emit(EVENTS.saveCanvas);\n  }\n\n  // GETTERS\n  get sizeIndicatorStyles() {\n    let size = 3;\n    if (\n      this.$store.currentTool instanceof Pen ||\n      this.$store.currentTool instanceof Eraser\n    ) {\n      size = this.$store.currentTool.options.size.value;\n    } else if (this.$store.currentTool instanceof Rect) {\n      size = this.$store.currentTool.options.stroke\n        ? this.$store.currentTool.options.strokeWeight.value\n        : size;\n    }\n\n    // Prevente user confusion on why cursor disappeared\n    if (size < 1) size = 1;\n\n    return {\n      width: size + \"px\",\n      height: size + \"px\",\n      top: this.mousePos.y - size / 2 + \"px\",\n      left: this.mousePos.x - size / 2 + \"px\",\n    };\n  }\n\n  get showingSizeIndicator() {\n    return this.hoveringCanvas; // && \"size\" in this.$store.currentTool.options;\n  }\n}\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=012fbcf8&scoped=true&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=012fbcf8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"012fbcf8\",\n  null\n  \n)\n\nexport default component.exports","import Layer from \"@/models/layer\";\nimport { Eraser, Pen, Rect, Tool, ToolType } from \"@/models/tool\";\nimport { Color } from \"@/models/types\";\n\nexport default class GlobalState {\n  layers: Layer[];\n  currentLayerId: string | null = null; // this needs to be null because we don't know the layer id until we create it, and creating it needs a p5 instance\n\n  tools: Tool[];\n  currentToolIdx: number;\n\n  backgroundColor: Color = \"black\";\n\n  currentPrefixedShortcutKey: string | null = null;\n\n  constructor() {\n    /// Because making a layer needs a p5 instance, it will only be set\n    /// in the setup method of the sketch\n    this.layers = [];\n\n    this.tools = [\n      new Pen(),\n      new Eraser(),\n      new Rect(),\n    ];\n    this.currentToolIdx = 0;\n  }\n\n  get currentTool(): Tool {\n    return this.tools[this.currentToolIdx];\n  }\n\n  setCurrentTool(toolType: ToolType) {\n    this.currentToolIdx = this.tools.findIndex(e => e.type == toolType);\n  }\n\n  get currentLayer(): Layer {\n    return this.layers.filter(v => v.id == this.currentLayerId)[0];\n  }\n}\n","import { Color } from \"@/models/types\";\n\n// TODO: Save and retrieve config from local storage\nexport default class Config {\n  changeColorShortcutPrefix = \"c\";\n  prefixShortcutDuration = 1000;\n\n  // The value of this map actually represents the color, but stupidly (again)\n  // you can't make a p5 color without a p5 instance\n  changeColorShortcutMap: { [k: string]: Color } = {\n    \"b\": \"blue\",\n    \"w\": \"white\",\n    \"g\": \"green\",\n    \"r\": \"red\",\n    \"y\": \"yellow\",\n    \"B\": \"black\",\n  };\n}","export default function titleCase(s: string): string {\n  return s.replace(/([A-Z])/g, (match) => ` ${match}`).replace(/^./, (match) => match.toUpperCase());\n}","import Vue from \"vue\";\nimport App from \"@/App.vue\";\nimport GlobalState from \"@/globalState\";\nimport '@/assets/styles.css';\nimport Config from \"./config\";\nimport titleCase from \"./helpers/titleCase\";\nVue.config.productionTip = false;\n\nVue.prototype.$store = Vue.observable(new GlobalState());\nVue.prototype.$config = Vue.observable(new Config());\n\nVue.mixin({\n  methods: {\n    titleCase\n  }\n})\n\nnew Vue({\n  render: h => h(App)\n}).$mount(\"#app\");\n"],"sourceRoot":""}